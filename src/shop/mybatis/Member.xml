<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<insert id="regist" parameterType="Member">
		insert into
		member(member_no,member_id,member_pw,member_name,member_post,member_addr,member_number)
		values(member_seq.nextval,#{member_id},#{member_pw},#{member_name},#{member_post},#{member_addr},#{member_number})
	</insert>

	<select id="login" parameterType="java.util.HashMap" resultType="Member">
		select
		member_no,member_id,member_name,member_post,member_addr,member_number,member_level_no,member_regist_date
		from member
		where member_id = #{member_id} and member_pw = #{member_pw}
	</select>
	
	<update id="modifyPw" parameterType="java.util.HashMap">
		update member set member_pw = #{newPassword} where member_pw = #{oldPassword} and member_no = #{member_no}
	</update>
</mapper>